<div
  class="popup"
  [ngStyle]="{ left: x + 'px', top: y + 'px' }"
  (mousedown)="$event.stopPropagation()"
  (click)="$event.stopPropagation()"
>
  <div class="card">
    <div class="mini-gloss" *ngIf="perWord?.length">
      <button
        class="chip"
        type="button"
        *ngFor="let g of perWord"
        (click)="speakWord.emit(g.src)"
        [title]="g.src + ' â†’ ' + g.dst"
      >
        <b class="src">{{ g.src }}</b>
        <span class="sep">â€”</span>
        <span class="dst">{{ g.dst }}</span>
        <span aria-hidden="true" class="icon">ðŸ”Š</span>
      </button>
    </div>

    <div class="term">{{ text }}</div>

    <div class="translation" *ngIf="translation">
      <b>Translation:</b> {{ translation }}
    </div>

    <div class="actions">
      <button (click)="speak.emit()">Speak</button>
      <button (click)="markKnown.emit()">Mark known</button>
      <button (click)="close.emit()">Close</button>
    </div>
  </div>
</div>
