<div class="wrap">
  <h2>Known Words</h2>

<div class="controls">
  <input [(ngModel)]="q" (input)="applyFilters()" placeholder="Search word..." />
  
  <select [(ngModel)]="filterLang" (change)="applyFilters()">
    <option value="">All languages</option>
    <option *ngFor="let l of langs" [value]="l">{{ l }}</option>
  </select>

  <button (click)="exportFile()">Export JSON</button>
  <button (click)="clearAll()" title="Remove all known words">Clear all</button>
</div>


  <div class="stats">
    <span *ngFor="let s of statEntries">{{ s[0] }}: {{ s[1] }}</span>
    <span class="count">Total: {{ words.length }}</span>
  </div>

  <table class="tbl" *ngIf="filtered.length; else empty">
    <thead>
      <tr>
        <th style="width:40%">Word</th>
        <th style="width:15%">Lang</th>
        <th style="width:25%">Added</th>
        <th style="width:20%"></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let w of filtered">
        <td>{{ w.text }}</td>
        <td>{{ w.lang }}</td>
        <td>{{ w.addedAt | date:'medium' }}</td>
        <td><button (click)="remove(w)">Remove</button></td>
      </tr>
    </tbody>
  </table>

  <ng-template #empty>
    <p>No known words yet. Go to the Reader, click a word, then hit “Mark known”.</p>
  </ng-template>
</div>
