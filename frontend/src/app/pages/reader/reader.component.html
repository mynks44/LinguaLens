<div class="grid">
  <section class="left">
    <label>Source language</label>
    <select [(ngModel)]="fromLang">
      <option value="en">English</option>
      <option value="fr">French</option>
      <option value="es">Spanish</option>
      <option value="de">German</option>
      <option value="hi">Hindi</option>
    </select>

    <label>Target language</label>
    <select [(ngModel)]="toLang">
      <option value="fr">French</option>
      <option value="en">English</option>
      <option value="es">Spanish</option>
      <option value="de">German</option>
      <option value="hi">Hindi</option>
    </select>

    <label>Paste your paragraph</label>
    <textarea rows="10" [(ngModel)]="sourceText" placeholder="Paste text here..."></textarea>

    <button (click)="doTranslate()">Translate â†’</button>
  </section>

  <section class="right">
    <div class="actions">
      <!-- Paragraph TTS -->
      <app-audio-player [text]="tokens.join(' ')" [lang]="toLangToBcp47()"></app-audio-player>
    </div>

    <div class="target" (click)="clickToken($event)" (mouseup)="mouseUpSelection()">
      <ng-container *ngFor="let t of tokens">
        <span class="tok" [class.word]="t && isWord(t)">{{ t }}</span>
      </ng-container>
    </div>
  </section>
</div>

<app-popup-translation
  [visible]="popup.visible"
  [x]="popup.x"
  [y]="popup.y"
  [text]="popup.text"
  [translation]="popup.translation"

  [phonetic]="popup.phonetic"
  [dictAudioUrl]="popup.dictAudioUrl"
  [definitions]="popup.definitions"
  [synonyms]="popup.synonyms"

  (speak)="speak(popup.text)"
  (playPronAudio)="playPronAudio()"
  (markKnown)="markKnown()"
  (close)="hidePopup()">
</app-popup-translation>
